<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="knx"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
        xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

    <!-- Bridge Thing Type -->
    <bridge-type id="ip">
        <label>KNX/IP gateway</label>
        <description>This Bridge is for IP based KNX gateways</description>
        
        <channels>
            <channel id="errorsall" typeId="errors" />
            <channel id="errors5min" typeId="errors" />
        </channels>
        
        <config-description>
            <parameter name="ipConnectionType" type="text">
                <label>IP Connection Type</label>
                <description>The ip connection type for connecting to the KNX bus. Could be either TUNNEL or ROUTER</description>
                <required>true</required>
                <options>
                    <option value="TUNNEL">Tunnel</option>
                    <option value="ROUTER">Router</option>
                </options>
            </parameter>  
            <parameter name="ipAddress" type="text">
                <label>Network Address</label>
                <description>Network address of the KNX/IP gateway</description>
                <required>false</required>
                <context>network-address</context>
            </parameter>
            <parameter name="portNumber" type="integer">
                <description>Port number of the KNX/IP gateway</description>
                <required>false</required> <!-- Only required in TUNNEL mode -->
                <label>Port</label>
                <default>3671</default>
            </parameter>
            <parameter name="localIp" type="text">
                <label>Local Network Address</label>
                <description>Network address of the local host to be used to set up the connection to the KNX/IP gateway</description>
                <context>network-address</context>
                <required>false</required>
            </parameter>      
            <parameter name="localSourceAddr" type="text">
                <label>Local KNX GA</label>
                <description>The group address for identification of this KNX/IP gateway within the KNX bus</description>
                <required>true</required>
                <default>0.0.0</default>
            </parameter>
            <parameter name="useNAT" type="boolean">
                <label>Use NAT</label>
                <description>Set to "true" when having network address translation between this server and the gateway</description>
                <default>false</default>
                <required>true</required>
            </parameter>
            <parameter name="readingPause" type="integer">
                <label>Reading Pause</label>
                <description>Time in milliseconds of how long should be paused between two read requests to the bus during initialization</description>
                <required>true</required>
                <default>50</default>
            </parameter>
            <parameter name="responseTimeout" type="integer">
            	<label>Response Timeout</label>
            	<description>Seconds to wait for a response from the KNX bus</description>
            	<required>true</required>
            	<default>10</default>
        	</parameter>  
        	<parameter name="readRetriesLimit" type="integer">
            	<label>Read Retries Limit</label>
            	<description>Limits the read retries while initialization from the KNX bus</description>
            	<required>true</required>
            	<default>3</default>
        	</parameter>
        	<parameter name="autoReconnectPeriod" type="integer">
            	<label>Auto Reconnect Period</label>
            	<description>Seconds between connection retries when KNX link has been lost, 0 means never retry</description>
            	<required>true</required>
            	<default>0</default>
        	</parameter>
        	<parameter name="enableDiscovery" type="boolean">
                <label>Enable Discovery</label>
                <description>Enable or disable automatic Individual Address discovery</description>
                <required>true</required>
                <default>true</default>
            </parameter>
            <parameter name="knxProj" type="text">
                <label>KNX Project File</label>
                <description>KNX Project File (knxproj) to parse automatically add to the system</description>
                <required>false</required>
            </parameter> 
        </config-description>
    </bridge-type>
    
    <channel-type id="errors">
        <item-type>Number</item-type>
        <label>Number of errors</label>
        <description>The number of errors that occurred on the KNX bus since the start of the binding, during the last 5 minutes</description>
    </channel-type>
	
</thing:thing-descriptions>
