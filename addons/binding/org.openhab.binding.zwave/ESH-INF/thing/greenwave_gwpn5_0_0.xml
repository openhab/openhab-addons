<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="zwave"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
  xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0
                      http://eclipse.org/smarthome/schemas/thing-description/v1.0.0">

  <thing-type id="greenwave_gwpn5_00_000" listed="false">
    <label>GWPN5 Multi-socket PowerNode (5-plug)</label>
    <description><![CDATA[
Multi-socket PowerNode (5-plug)<br /><h1>Overview</h1><p>This Configuration is for the 6 plug version of the PowerNode.</p> <br /><h2>Inclusion Information</h2><p>On the PowerNode, press and hold the <strong>sync</strong> button for approximately one second until the activity indicator displays a clockwise rotating pattern. This indicates the PowerNode is attempting inclusion. During this process, verify that the Gateway activity indicator still displays a clockwise rotating pattern.</p> <p>After a few seconds, the rotating pattern on both the PowerNode and the Gateway stops. All bars turn green forming a circle for several seconds. This indicates a successful inclusion.</p> <p>If all bars on the activity indicator start flashing instead of forming a solid circle, then the PowerNode inclusion process has failed, and you must start the sync process again. If syncing continually fails even though the PowerNode is close to the Gateway, then it may be an indication of a hardware fault, and the PowerNode might need replacing.</p> <br /><h2>Exclusion Information</h2><p>On the PowerNode, press and hold the <strong>Sync</strong> button for approximately one second until the PowerNode activity indicator begins to display a counter-clockwise rotating pattern. The PowerNode is attempting exclusion.</p>
    ]]></description>

    <!-- CHANNEL DEFINITIONS -->
    <channels>
      <channel id="switch_binary" typeId="switch_binary">
        <label>Switch</label>
        <properties>
          <property name="binding:*:OnOffType">SWITCH_BINARY</property>
        </properties>
      </channel>
      <channel id="meter_watts" typeId="meter_watts">
        <label>Electric meter (watts)</label>
        <properties>
          <property name="binding:*:DecimalType">METER;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh" typeId="meter_kwh">
        <label>Electric meter (kWh)</label>
        <properties>
          <property name="binding:*:DecimalType">METER;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="alarm_general" typeId="alarm_general">
        <label>Alarm</label>
        <properties>
          <property name="binding:*:OnOffType">ALARM</property>
        </properties>
      </channel>
      <channel id="switch_binary1" typeId="switch_binary">
        <label>Switch 1</label>
        <properties>
          <property name="binding:*:OnOffType">SWITCH_BINARY:1</property>
        </properties>
      </channel>
      <channel id="meter_watts1" typeId="meter_watts">
        <label>Electric meter (watts) 1</label>
        <properties>
          <property name="binding:*:DecimalType">METER:1;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh1" typeId="meter_kwh">
        <label>Electric meter (kWh) 1</label>
        <properties>
          <property name="binding:*:DecimalType">METER:1;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary2" typeId="switch_binary">
        <label>Switch 2</label>
        <properties>
          <property name="binding:*:OnOffType">SWITCH_BINARY:2</property>
        </properties>
      </channel>
      <channel id="meter_watts2" typeId="meter_watts">
        <label>Electric meter (watts) 2</label>
        <properties>
          <property name="binding:*:DecimalType">METER:2;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh2" typeId="meter_kwh">
        <label>Electric meter (kWh) 2</label>
        <properties>
          <property name="binding:*:DecimalType">METER:2;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary3" typeId="switch_binary">
        <label>Switch 3</label>
        <properties>
          <property name="binding:*:OnOffType">SWITCH_BINARY:3</property>
        </properties>
      </channel>
      <channel id="meter_watts3" typeId="meter_watts">
        <label>Electric meter (watts) 3</label>
        <properties>
          <property name="binding:*:DecimalType">METER:3;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh3" typeId="meter_kwh">
        <label>Electric meter (kWh) 3</label>
        <properties>
          <property name="binding:*:DecimalType">METER:3;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary4" typeId="switch_binary">
        <label>Switch 4</label>
        <properties>
          <property name="binding:*:OnOffType">SWITCH_BINARY:4</property>
        </properties>
      </channel>
      <channel id="meter_watts4" typeId="meter_watts">
        <label>Electric meter (watts) 4</label>
        <properties>
          <property name="binding:*:DecimalType">METER:4;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh4" typeId="meter_kwh">
        <label>Electric meter (kWh) 4</label>
        <properties>
          <property name="binding:*:DecimalType">METER:4;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary5" typeId="switch_binary">
        <label>Switch 5</label>
        <properties>
          <property name="binding:*:OnOffType">SWITCH_BINARY:5</property>
        </properties>
      </channel>
      <channel id="meter_watts5" typeId="meter_watts">
        <label>Electric meter (watts) 5</label>
        <properties>
          <property name="binding:*:DecimalType">METER:5;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh5" typeId="meter_kwh">
        <label>Electric meter (kWh) 5</label>
        <properties>
          <property name="binding:*:DecimalType">METER:5;type=E_KWh</property>
        </properties>
      </channel>
    </channels>

    <!-- DEVICE PROPERTY DEFINITIONS -->
    <properties>
      <property name="vendor">GreenWave</property>
      <property name="modelId">GWPN5</property>
      <property name="manufacturerId">0099</property>
      <property name="manufacturerRef">0003:0003</property>
      <property name="defaultAssociations">3,4</property>
    </properties>

    <!-- CONFIGURATION DESCRIPTIONS -->
    <config-description>

      <!-- PARAMETER DEFINITIONS -->
      <parameter-group name="configuration">
        <context>setup</context>
        <label>Configuration Parameters</label>
      </parameter-group>

      <parameter name="config_0_1" type="integer" groupName="configuration"
                 min="0" max="100">
        <label>0: Min. variation of load current</label>
        <description><![CDATA[
Minimum variation in load current before a message is sent.<br /><h1>Overview</h1><p>Value in percent (30 =&gt; 30%)</p>
        ]]></description>
        <default>10</default>
      </parameter>

      <parameter name="config_1_1" type="integer" groupName="configuration"
                 min="0" max="255">
        <label>1: No communication light</label>
        <description>Minutes after which the device will flash if controller communicate is lost</description>
        <default>2</default>
      </parameter>

      <parameter name="config_2_1" type="integer" groupName="configuration">
        <label>2: Wheel position</label>
        <description>Wheel position on the GreenWave device (read-only)</description>
        <default>0</default>
        <options>
          <option value="128">Black</option>
          <option value="129">Green</option>
          <option value="130">Dark Blue</option>
          <option value="131">Red</option>
          <option value="132">Yellow</option>
          <option value="133">Purple</option>
          <option value="134">Orange</option>
          <option value="135">Light Blue</option>
          <option value="136">Pink</option>
          <option value="137">Locked</option>
        </options>
      </parameter>

      <parameter name="config_3_1" type="integer" groupName="configuration">
        <label>3: Power-on state</label>
        <description>Default state after power loss</description>
        <default>2</default>
        <options>
          <option value="0">All OFF</option>
          <option value="1">Remember last state</option>
          <option value="2">All ON</option>
        </options>
      </parameter>

      <parameter name="config_4_1" type="integer" groupName="configuration">
        <label>4: LED for network error</label>
        <description>If the LED should indicate a network error by flashing or not</description>
        <default>1</default>
        <options>
          <option value="0">Disable the LED for network error</option>
          <option value="1">Enable the LED for network error</option>
        </options>
      </parameter>

      <!-- ASSOCIATION DEFINITIONS -->
      <parameter-group name="association">
        <context>link</context>
        <label>Association Groups</label>
      </parameter-group>

      <parameter name="group_1" type="text" groupName="association">
        <label>1: Wheel position change</label>
      </parameter>

      <parameter name="group_2" type="text" groupName="association">
        <label>2: Current leakage on relay</label>
      </parameter>

      <parameter name="group_3" type="text" groupName="association">
        <label>3: Power level change</label>
        <description>The new power reading is sent if the delta of the change is greater than the defined minimum variation</description>
      </parameter>

      <parameter name="group_4" type="text" groupName="association">
        <label>4: Over-current detection</label>
      </parameter>

    </config-description>

  </thing-type>
</thing:thing-descriptions>
