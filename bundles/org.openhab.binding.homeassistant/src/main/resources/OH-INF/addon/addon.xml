<?xml version="1.0" encoding="UTF-8"?>
<addon:addon id="homeassistant" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:addon="https://openhab.org/schemas/addon/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/addon/v1.0.0 https://openhab.org/schemas/addon-1.0.0.xsd">

	<type>binding</type>
	<name>Home Assistant Binding</name>
	<description>Provides discovery and auto-configuration services for MQTT connected devices that provide Home Assistant
		discovery metadata.</description>
	<connection>local</connection>
	<service-id>org.openhab.binding.homeassistant</service-id>

	<config-description>
		<parameter name="status" type="boolean" required="false">
			<label>Publish Online Status</label>
			<default>true</default>
			<description><![CDATA[
				Publish <tt>online</tt> to <tt>homeassistant/status</tt> when discovering Home Assistant
				things in order to trigger devices to publish up-to-date discovery information.
				If you also run Home Assistant <i>and</i> other services that depend on knowing if Home
				Assistant is not running, then it's possible for those services to be out-of-sync with
				the actual status of Home Assistant, and you may want to disable this.
				]]></description>
		</parameter>
	</config-description>

	<discovery-methods>
		<discovery-method>
			<service-type>process</service-type>
			<match-properties>
				<match-property>
					<name>command</name>
					<regex>(?i).*[/\\](mosquitto)(\.exe)?$</regex>
				</match-property>
			</match-properties>
		</discovery-method>
	</discovery-methods>

</addon:addon>
