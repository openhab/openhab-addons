<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="haassohnpelletstove"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<!-- Haas Sohn Thing Type -->
	<thing-type id="oven">
		<label>Haas+Sohn Oven</label>
		<description>This binding communicates with a Haas+Sohn pellet stove through the optional Wi‑Fi module.
			More information: https://www.haassohn.com/de/ihr-plus/WLAN-Funktion.
			It allows you to power the stove on/off and receive operational information.</description>
		<semantic-equipment-tag>Furnace</semantic-equipment-tag>

		<channels>
			<channel id="channelIsTemp" typeId="isTemp"/>
			<channel id="channelMode" typeId="mode"/>
			<channel id="channelSpTemp" typeId="spTemp"/>
			<channel id="power" typeId="power"/>
			<channel id="channelEcoMode" typeId="ecoMode"/>
			<channel id="channelIgnitions" typeId="ignitions"/>
			<channel id="channelMaintenanceIn" typeId="maintenanceIn"/>
			<channel id="channelCleaningIn" typeId="cleaningIn"/>
			<channel id="channelConsumption" typeId="consumption"/>
			<channel id="channelOnTime" typeId="onTime"/>
		</channels>

		<config-description>
			<parameter name="hostIP" type="text" required="true">
				<label>IP Address</label>
				<description>Enter the IP address of the Haas+Sohn oven’s Wi‑Fi module.</description>
				<context>network-address</context>
			</parameter>
			<parameter name="hostPIN" type="text" required="true" pattern="[0-9]{4}">
				<label>PIN</label>
				<description>Please add the PIN of your oven here. You can find it in the Menu directly in your oven.</description>
			</parameter>
			<parameter name="refreshRate" type="integer" unit="s" min="1" max="1000">
				<label>Refresh Rate</label>
				<description>How often the pellet stove schedules a refresh after a channel is linked to an item.
					Temperature data will be refreshed according to this interval in seconds. Valid input is 1–999.</description>
				<advanced>true</advanced>
				<default>30</default>
			</parameter>
		</config-description>

	</thing-type>
	<channel-type id="isTemp">
		<item-type>Number:Temperature</item-type>
		<label>Actual Stove Temperature</label>
		<description>Current stove temperature.</description>
		<tags>
			<tag>Measurement</tag>
			<tag>Temperature</tag>
		</tags>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="mode">
		<item-type>String</item-type>
		<label>Stove Mode</label>
		<description>Current stove mode.</description>
		<tags>
			<tag>Status</tag>
			<tag>Mode</tag>
		</tags>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="spTemp">
		<item-type>Number:Temperature</item-type>
		<label>Target Stove Temperature</label>
		<description>Target stove temperature.</description>
		<tags>
			<tag>Setpoint</tag>
			<tag>Temperature</tag>
		</tags>
	</channel-type>

	<channel-type id="power">
		<item-type>Switch</item-type>
		<label>Power</label>
		<description>Turn the stove on/off.</description>
		<tags>
			<tag>Switch</tag>
			<tag>Power</tag>
		</tags>
	</channel-type>

	<channel-type id="ecoMode">
		<item-type>Switch</item-type>
		<label>Eco Mode</label>
		<description>Enable or disable Eco Mode.</description>
		<tags>
			<tag>Switch</tag>
			<tag>Mode</tag>
		</tags>
	</channel-type>

	<channel-type id="ignitions">
		<item-type>Number</item-type>
		<label>Ignitions</label>
		<description>Total number of ignitions.</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="maintenanceIn">
		<item-type>Number:Mass</item-type>
		<label>Next Maintenance</label>
		<description>Estimated pellet quantity until next maintenance (kg).</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="cleaningIn">
		<item-type>String</item-type>
		<label>Next Cleaning Window</label>
		<description>Estimated time until next cleaning (hh:mm).</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="consumption">
		<item-type>Number:Mass</item-type>
		<label>Total Pellet Consumption</label>
		<description>Total pellet consumption.</description>
		<state readOnly="true"/>
	</channel-type>

	<channel-type id="onTime">
		<item-type>Number</item-type>
		<label>Operating Hours</label>
		<description>Total operating hours.</description>
		<state readOnly="true"/>
	</channel-type>

</thing:thing-descriptions>
