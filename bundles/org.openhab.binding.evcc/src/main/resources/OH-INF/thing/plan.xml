<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="evcc"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">
	<thing-type id="plan" listed="false">
		<supported-bridge-type-refs>
			<bridge-type-ref id="server"/>
		</supported-bridge-type-refs>
		<label>Plan</label>
		<description>A plan configured for your vehicle in evcc</description>
		<channels>
			<channel id="send-update" typeId="plan-update">
				<label>Update Plan</label>
				<description>Sends the updated plan to evcc</description>
			</channel>
		</channels>
		<config-description>
			<parameter name="index" type="text">
				<label>Index</label>
				<description>The plan index: 0 for one-time plan, 1..N for repeating plans for your vehicle in the evcc setup</description>
			</parameter>
			<parameter name="vehicle-id" type="text">
				<label>Vehicle ID</label>
				<description>The id of the plan for your vehicle in the evcc setup (starting with 0 for the active plan, repeating
					plans start with 1)</description>
			</parameter>
		</config-description>
	</thing-type>
	<channel-type id="plan-update">
		<item-type>Switch</item-type>
		<label>Trigger Plan Update</label>
		<description>The binding will send an API request to update the plan</description>
		<tags>
			<tag>Control</tag>
			<tag>Switch</tag>
		</tags>
	</channel-type>
	<channel-type id="plan-soc">
		<item-type unitHint="%">Number:Dimensionless</item-type>
		<label>Plan SoC</label>
		<description>Scheduled SoC</description>
		<tags>
			<tag>Setpoint</tag>
			<tag>Energy</tag>
		</tags>
	</channel-type>
	<channel-type id="plan-precondition">
		<item-type unitHint="s">Number:Time</item-type>
		<label>Precondition Time</label>
		<description>Scheduled preconditioning time (time in seconds to start charging before departure)</description>
		<tags>
			<tag>Setpoint</tag>
			<tag>Duration</tag>
		</tags>
	</channel-type>
	<channel-type id="plan-time">
		<item-type>DateTime</item-type>
		<label>Plan Time</label>
		<description>Scheduled departure time</description>
		<tags>
			<tag>Setpoint</tag>
			<tag>Timestamp</tag>
		</tags>
	</channel-type>
	<channel-type id="plan-weekdays">
		<item-type>String</item-type>
		<label>Plan Weekdays</label>
		<description>Planned days on which the vehicle will be charged (only in repeating plans)</description>
		<tags>
			<tag>Setpoint</tag>
			<tag>Channel</tag>
		</tags>
	</channel-type>
	<channel-type id="plan-tz">
		<item-type>String</item-type>
		<label>Plan Timezone</label>
		<description>Timezone for the Plan (only in repeating plans)</description>
		<tags>
			<tag>Setpoint</tag>
		</tags>
	</channel-type>
	<channel-type id="plan-repeating-time">
		<item-type>String</item-type>
		<label>Plan Time</label>
		<description>Scheduled departure time (hh:mm)</description>
	</channel-type>
	<channel-type id="plan-active">
		<item-type>Switch</item-type>
		<label>Active</label>
		<description>Indicates whether the repeating plan is active</description>
		<tags>
			<tag>Setpoint</tag>
			<tag>Control</tag>
		</tags>
		<state>
			<options>
				<option value="ON">Active</option>
				<option value="OFF">Inactive</option>
			</options>
		</state>
	</channel-type>
</thing:thing-descriptions>
