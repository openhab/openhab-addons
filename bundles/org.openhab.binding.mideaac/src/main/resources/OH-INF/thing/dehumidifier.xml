<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="mideaac"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<!-- Thing Type -->
	<thing-type id="a1">
		<label>Midea Dehumidifier</label>
		<description>Midea Dehumidifier with USB WIFI stick.
		</description>

		<channels>
			<channel id="power" typeId="power"/>
			<channel id="dehumidifier-mode" typeId="dehumidifier-mode"/>
			<channel id="maximum-humidity" typeId="maximum-humidity"/>
			<channel id="humidity" typeId="humidity"/>
			<channel id="dh-fan-speed" typeId="dh-fan-speed"/>
			<channel id="dehumidifier-swing" typeId="dehumidifier-swing"/>
			<channel id="indoor-temperature" typeId="indoor-temperature"/>
			<channel id="dehumidifier-tank" typeId="dehumidifier-tank"/>
			<channel id="dh-tank-setpoint" typeId="dh-tank-setpoint"/>

			<channel id="on-timer" typeId="on-timer"/>
			<channel id="off-timer" typeId="off-timer"/>
			<channel id="anion" typeId="anion"/>
			<channel id="child-lock" typeId="child-lock"/>
		</channels>

		<representation-property>ipAddress</representation-property>

		<config-description>
			<parameter name="ipAddress" type="text" required="true">
				<context>network-address</context>
				<label>IP Address</label>
				<description>IP Address of the device.</description>
			</parameter>
			<parameter name="ipPort" type="decimal" required="true">
				<label>IP Port</label>
				<description>IP port of the device.</description>
				<default>6444</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="deviceId" type="text" required="true">
				<label>Device ID</label>
				<description>ID of the device. Leave 0 to do ID discovery.</description>
				<default>0</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="cloud" type="text" required="false">
				<label>Cloud Provider</label>
				<description>Cloud Provider name for email and password.</description>
				<options>
					<option value=""></option>
					<option value="MSmartHome">MSmartHome</option>
					<option value="Midea Air">Midea Air</option>
					<option value="NetHome Plus">NetHome Plus</option>
				</options>
				<limitToOptions>true</limitToOptions>
				<default>NetHome Plus</default>
			</parameter>
			<parameter name="email" type="text" required="false">
				<context>email</context>
				<label>Email</label>
				<description>Email for cloud account chosen in Cloud Provider.</description>
				<default>nethome+us@mailinator.com</default>
			</parameter>
			<parameter name="password" type="text" required="false">
				<context>password</context>
				<label>Password</label>
				<description>Password for cloud account chosen in Cloud Provider.</description>
				<default>password1</default>
			</parameter>
			<parameter name="token" type="text" required="false">
				<label>Token</label>
				<description>Secret Token (length 128 HEX) used for secure connection authentication used with devices v3 (if not
					known, enter email, password for Cloud account to retrieve it).</description>
				<advanced>true</advanced>
			</parameter>
			<parameter name="key" type="text" required="false">
				<label>Key</label>
				<description>Secret Key (length 64 HEX) used for secure connection authentication used with devices v3 (if not
					known, enter email, password for Cloud account to retrieve it).</description>
				<advanced>true</advanced>
			</parameter>
			<parameter name="pollingTime" type="decimal" required="true" min="30" unit="s">
				<label>Poll Frequency</label>
				<description>Base device poll in seconds. Minimum is 30, default 60.</description>
				<default>60</default>
			</parameter>
			<parameter name="energyPoll" type="decimal" required="true" min="0" unit="m">
				<label>Energy Poll</label>
				<description>Energy polling in minutes. default 0 ; (in case not supported).</description>
				<default>0</default>
			</parameter>
			<parameter name="keyTokenUpdate" type="decimal" required="false" min="0" unit="h">
				<label>Key Token Update</label>
				<description>Update the Key and Token from the cloud in hours, min 24h, default 0 to disable.</description>
				<default>0</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="timeout" type="decimal" required="true" min="2" max="10" unit="s">
				<label>Socket Timeout</label>
				<description>Connecting socket timeout (seconds). Minimum is 2, maximum is 10 (4 is default).</description>
				<default>4</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="promptTone" type="boolean" required="true">
				<label>Prompt Tone</label>
				<description>After sending a command device will play "ding" tone when command is received and executed.</description>
				<default>false</default>
			</parameter>
			<parameter name="version" type="decimal" required="true">
				<label>AC Version</label>
				<description>Version 3 requires Token, Key and Cloud provider. Version 2 doesn't.</description>
				<default>3</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="deviceType" type="text" required="true">
				<label>Device Type</label>
				<description>ac or a1(dehumidifier) discoverable</description>
				<default>a1</default>
				<advanced>true</advanced>
			</parameter>
		</config-description>

	</thing-type>

</thing:thing-descriptions>
