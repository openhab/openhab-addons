   <script>
        var tooltips = document.querySelectorAll(".tooltip");
        tooltips.forEach(function(tooltip, index)
        {
            tooltip.addEventListener("mouseover", position_tooltip); // On hover, launch the function below
        })

        function position_tooltip(){
          // Get .tooltiptext sibling
          var tooltip = this.parentNode.querySelector(".tooltiptext");
          
          // Get calculated tooltip coordinates and size
          var tooltip_rect = this.getBoundingClientRect();

          var tipX = tooltip_rect.width + 5; // 5px on the right of the tooltip
          var tipY = -40;                     // 40px on the top of the tooltip
          // Position tooltip
          tooltip.style.top = tipY + 'px';
          tooltip.style.left = tipX + 'px';

          // Get calculated tooltip coordinates and size
          var tooltip_rect = tooltip.getBoundingClientRect();
          // Corrections if out of window
          if ((tooltip_rect.x + tooltip_rect.width) > window.innerWidth) // Out on the right
            tipX = -tooltip_rect.width - 5;  // Simulate a "right: tipX" position
          if (tooltip_rect.y < 0)            // Out on the top
            tipY = tipY - tooltip_rect.y;    // Align on the top

          // Apply corrected position
          tooltip.style.top = tipY + 'px';
          tooltip.style.left = tipX + 'px';
        }
    </script>
