<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="shelly"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<channel-group-type id="deviceStatus">
		<label>Device Status</label>
		<description>Information about the device status</description>
		<channels>
			<channel id="alarm" typeId="alarmTrigger"/>
			<channel id="wifiSignal" typeId="system.signal-strength"/>
		</channels>
	</channel-group-type>

	<channel-type id="alarmTrigger">
		<kind>trigger</kind>
		<label>Alarm</label>
		<description>Alarm Trigger, e.g. weak WiFi Signal detected or over heating</description>
		<category>Alarm</category>
		<event>
			<options>
				<option value="NONE">None</option>
				<option value="WEAK_SIGNAL">Weak WiFi</option>
				<option value="RESTARTED">Device restarted</option>
				<option value="OVERTEMP">Device is overheating</option>
				<option value="OVERLOAD">Device is overloaded</option>
				<option value="OVERPOWER">Device is over max power</option>
				<option value="LOAD_ERROR">Load error</option>
				<option value="LOW_BATTERY">Low battery</option>
				<option value="BATTERY">Wakeup by battery</option>
				<option value="POWERON">Device was powered on</option>
				<option value="EXT_POWER">External power supply was connected</option>
				<option value="BUTTON">Button was pressed</option>
				<option value="SENSOR">Sensor data updated</option>
			</options>
		</event>
	</channel-type>
	<channel-type id="sensorWakeup" advanced="true">
		<item-type>String</item-type>
		<label>Wakeup Reason</label>
		<description>Last reason which woke up the device (button/battery/perodic/poweron/sensor/alarm/ext_power)</description>
		<state pattern="%s" readOnly="true">
			<options>
				<option value="button">Button</option>
				<option value="battery">Battery</option>
				<option value="periodic">Periodic</option>
				<option value="poweron">Power-On</option>
				<option value="sensor">Sensor</option>
				<option value="alarm">Alarm</option>
				<option value="ext_power">Charger connected</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="deviceName" advanced="true">
		<item-type>String</item-type>
		<label>Device Name</label>
		<description>Symbolic Device Name as configured in the Shelly App</description>
		<state readOnly="true">
		</state>
	</channel-type>
	<channel-type id="gatewayDevice" advanced="true">
		<item-type>String</item-type>
		<label>Gateway Device</label>
		<description>Last Shelly Device, which forwarded the event</description>
		<state readOnly="true">
		</state>
	</channel-type>
	<channel-type id="calibrated" advanced="true">
		<item-type>Switch</item-type>
		<label>Calibrated</label>
		<description>ON: The device/sensor is calibrated</description>
		<state readOnly="true">
		</state>
	</channel-type>
	<channel-type id="charger" advanced="true">
		<item-type>Switch</item-type>
		<label>External Power</label>
		<description>ON: External power is connected</description>
		<category>Battery</category>
		<state readOnly="true">
		</state>
	</channel-type>
	<channel-type id="externalPower" advanced="true">
		<item-type>Switch</item-type>
		<label>External Power</label>
		<description>ON: Device is charging, OFF: No charger connected</description>
		<category>Status</category>
		<state readOnly="true">
		</state>
	</channel-type>
	<channel-type id="uptime" advanced="true">
		<item-type>Number:Time</item-type>
		<label>Uptime</label>
		<description>Number of seconds since the device was powered up</description>
		<category>Time</category>
		<state readOnly="true" pattern="%.0f %unit%">
		</state>
	</channel-type>
	<channel-type id="heartBeat" advanced="true">
		<item-type>DateTime</item-type>
		<label>Last Heartbeat</label>
		<description>Last time we received a signal from the device (API result or sensor report), This indicates that device
			communication works on the network layer (WiFi + IP)</description>
		<category>Time</category>
		<tags>
			<tag>Status</tag>
			<tag>Timestamp</tag>
		</tags>
		<state readOnly="true">
		</state>
	</channel-type>
	<channel-type id="updateAvailable" advanced="true">
		<item-type>Switch</item-type>
		<label>Update available</label>
		<description>ON: A firmware update is available (use the Shelly App to perform update)</description>
		<category>Status</category>
		<state readOnly="true">
		</state>
	</channel-type>
	<channel-type id="deviceTemp" advanced="true">
		<item-type>Number:Temperature</item-type>
		<label>Internal Temperature</label>
		<description>Internal device temperature, helps to detect overheating due to installation issues</description>
		<category>Temperature</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Temperature</tag>
		</tags>
		<state readOnly="true" pattern="%.0f %unit%">
		</state>
	</channel-type>
	<channel-type id="supplyVoltage" advanced="true">
		<item-type>Number:ElectricPotential</item-type>
		<label>Supply Voltage</label>
		<description>External voltage supplied to the device</description>
		<category>Energy</category>
		<tags>
			<tag>Measurement</tag>
			<tag>Voltage</tag>
		</tags>
		<state readOnly="true" pattern="%.0f %unit%"/>
	</channel-type>
	<channel-type id="selfTest">
		<item-type>String</item-type>
		<label>Self Test</label>
		<description>Self Test Status/Result</description>
		<state pattern="%s" readOnly="true">
			<options>
				<option value="not_completed">Not completed</option>
				<option value="completed">Completed</option>
				<option value="running">Running</option>
				<option value="pending">Pending</option>
				<option value="unknown">Unknown</option>
			</options>
		</state>
	</channel-type>

	<channel-type id="deviceFirmware" advanced="true">
		<item-type>String</item-type>
		<label>Device Firmware</label>
		<description>Current firmware version of the device</description>
		<state pattern="%s" readOnly="true">
		</state>
	</channel-type>
</thing:thing-descriptions>
