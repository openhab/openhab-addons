<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="smainverterbluetooth"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<!-- Sample Thing Type -->
	<thing-type id="solar-inverter">
		<!-- Comment this in for Things which need a Bridge to function.
			<supported-bridge-type-refs>
			<bridge-type-ref id="smainverterbluetoothBridge" />
			</supported-bridge-type-refs>
		-->


		<label>SMAInverterBluetooth Binding Thing</label>
		<description>SMA Solar Inverter Bluetooth Binding</description>
		<semantic-equipment-tag>Inverter</semantic-equipment-tag>

		<channels>
			<channel id="inverter-day-generation" typeId="system.electric-energy">
				<label>Daily Generation</label>
				<description>Energy generated by the inverter today.</description>
			</channel>
			<channel id="inverter-total-generation" typeId="system.electric-energy">
				<label>Total Generation</label>
				<description>Total energy generated by the inverter.</description>
			</channel>
			<channel id="inverter-spot-power" typeId="system.electric-power">
				<label>Spot Power</label>
				<description>Current power output of the inverter.</description>
			</channel>
			<channel id="inverter-spot-ac-voltage" typeId="system.electric-voltage">
				<label>Spot AC Voltage</label>
				<description>Current AC voltage output of the inverter.</description>
			</channel>
			<channel id="inverter-spot-temperature" typeId="inverter-temperature">
				<label>Spot Temperature</label>
				<description>Current internal temperature of the inverter.</description>
			</channel>
			<channel id="sma2json-status-code" typeId="status-code">
				<label>Status Code</label>
				<description>Status code from the inverter CLI bridge.</description>
			</channel>
			<channel id="sma2json-status-message" typeId="status-message">
				<label>Status Message</label>
				<description>Status message from the inverter CLI bridge.</description>
			</channel>
			<channel id="inverter-time" typeId="inverter-reading-time">
				<label>Inverter Reading Time</label>
				<description>Time of the last reading from the inverter.</description>
			</channel>
			<channel id="thing-polling-switch" typeId="polling-switch">
				<label>Polling Control</label>
				<description>Switch to enable or disable the binding polling of the inverter.</description>
			</channel>
		</channels>
		<properties>
			<property name="vendor">SMA</property>
			<property name="thingTypeVersion">1</property>
		</properties>
		<representation-property>bluetoothAddress</representation-property>
		<config-description>
			<parameter name="bluetoothAddress" type="text" required="true">
				<context>network-address</context>
				<label>Bluetooth Address</label>
				<description>Bluetooth address of the device in hexadecimal, format:[XX:XX:XX:XX:XX:XX].</description>
			</parameter>
			<parameter name="password" type="text" required="true">
				<context>password</context>
				<label>Password</label>
				<description>Password to access the device</description>
			</parameter>
			<parameter name="refreshInterval" type="integer" unit="s" min="1">
				<label>Refresh Interval</label>
				<description>Interval the device is polled in seconds [20s or slower].</description>
				<default>60</default>
				<advanced>true</advanced>
			</parameter>
		</config-description>
	</thing-type>


	<channel-type id="inverter-temperature">
		<item-type unitHint="°C">Number:Temperature</item-type>
		<label>Internal Temperature</label>
		<description> Internal temperature of the inverter.</description>
		<state readOnly="true" pattern="%.2f °C%"/>
	</channel-type>
	<channel-type id="status-code">
		<item-type>Number:Dimensionless</item-type>
		<label>Status Code</label>
		<state readOnly="true" pattern="%d"/>
	</channel-type>
	<channel-type id="status-message">
		<item-type>String</item-type>
		<label>Status Message</label>
		<state readOnly="true" pattern="%s"/>
	</channel-type>
	<channel-type id="inverter-reading-time">
		<item-type>String</item-type>
		<label>Inverter Reading Time</label>
		<state readOnly="true" pattern="%s"/>
	</channel-type>
	<channel-type id="polling-switch">
		<item-type>Switch</item-type>
		<label>Polling Control</label>
	</channel-type>
</thing:thing-descriptions>
